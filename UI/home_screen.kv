<HomeScreen>:
    MDBoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            title: "Home"
            left_action_items: [["chevron-left", lambda x: app.switch_screen('pre_splash')]]
            md_bg_color: 0, 0, 0, 1  # Cor de fundo preta
            pos_hint: {"top": 1}  # Garante que a barra fique no topo
            elevation: 4    

        MDBoxLayout:
            orientation: 'vertical'
            size_hint_y: None  # Remove o tamanho relativo
            height: dp(420)  # Define uma altura maior para aumentar o tamanho dos itens internos

            MDLabel:
                id: dispenser_code_label
                text: "Nenhum dispenser cadastrado!"
                font_size: "18sp"
                halign: "center"
                theme_text_color: "Secondary"

            Image:
                source: "./Assets/racao.jfif"
                size_hint: None, None
                size: dp(100), dp(100)
                pos_hint: {"center_x": .5, "center_y": .1}
                on_touch_down:
                    if self.collide_point(*args[1].pos): root.create_fooding_schedule()

            MDLabel:
                id: alimente_se_label
                text: "Alimente-se agora!"
                font_size: "18sp"
                halign: "center"
                pos_hint: {"center_x": .5, "center_y": .1}
                theme_text_color: "Secondary"

            MDLabel:
                id: quantidade_faltante_label
                text: ""
                font_size: "18sp"
                halign: "center"
                pos_hint: {"center_x": .5, "center_y": .1}
                theme_text_color: "Hint"

            MDBoxLayout:
                orientation: 'vertical'
                size_hint: .8, None
                height: dp(100)
                pos_hint: {"center_x": .5, "center_y": .1}

                MDLabel:
                    id: food_warning
                    text: "Nível de ração está baixo!"
                    font_size: "18sp"
                    halign: "center"

                MDLabel:
                    id: water_warning
                    text: "Nível de água está baixo!"
                    font_size: "18sp"
                    halign: "center"

            MDRaisedButton:
                text: "Atualizar Níveis"
                md_bg_color: 0, 0, 0, 1
                text_color: 1, 1, 1, 1
                pos_hint: {"center_x": .5, "center_y": .1}
                size_hint_x: .5
                on_release: root.update_dispenser_levels()  # Função chamada ao clicar

        # Bottom Navigation
        MDBottomNavigation:
            panel_color: 1, 1, 1, 1
            text_color_active: 0, 0, 0, 1

            MDBottomNavigationItem:
                id: nav_home
                text: 'Home'
                icon: 'home'
                on_tab_press: app.switch_screen('home_screen')

            MDBottomNavigationItem:
                id: nav_vacina
                text: 'Vacina'
                icon: 'needle'
                on_tab_press: app.switch_screen('vacinas')

            MDBottomNavigationItem:
                id: nav_registros
                text: 'Registros'
                icon: 'file-document'
                on_tab_press: app.switch_screen('registro_alimentacoes')

            MDBottomNavigationItem:
                id: nav_monitor
                text: 'Monitor'
                icon: 'chart-line'
                on_tab_press: app.switch_screen('reservoir_monitor')

            MDBottomNavigationItem:
                id: nav_historico
                text: 'Histórico'
                icon: 'chart-bar'
                on_tab_press: app.switch_screen('historico')

            MDBottomNavigationItem:
                id: nav_config
                text: 'Config'
                icon: 'cog-outline'
                on_tab_press: app.switch_screen('config')

